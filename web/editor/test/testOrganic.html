<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

        <script type="text/javascript">
            var s0_0 = [[50, 50], [100, 50], [100, 150], [50, 150]]; //parellel (same direction)
            var s0_1 = [[50, 50], [100, 50], [100, 150], [150, 150]]; //parallel (oposite direction)
            var s0_2 = [[50, 50], [100, 50], [150, 50], [200, 50]]; //colinear
            var s0_3 = [[50, 100], [50, 80], [100, 80], [120, 80]]; //orthogonal
            
            var s1_1 = [[50, 50], [100, 50], [150, 50], [150, 100], [200, 100]];
            var s1_2 = [[50, 50], [100, 50], [100, 100], [150, 100], [200, 100]]; //TODO: looking strange
            var s1_3 = [[50, 50], [100, 50], [150, 50], [150, 100], [150, 150]];
            var s1_4 = [[50, 50], [100, 50], [100, 100], [150, 100], [150, 150]];
            
            var s2_1 = [[50, 50], [50, 30], [125, 30], [125, 150], [200, 150], [200, 130]];
            var s2_2 = [[100, 50], [80, 50], [80, 100], [180, 100], [180, 150], [160, 150]];
            var s2_3 = [[50, 50], [50, 30], [150, 30], [150, 130], [100, 130], [100, 110]];
            var s2_4 = [[100, 50], [80, 50], [80, 150], [200, 150], [200, 100], [150, 100]];
            var s2_5 = [[100, 100], [100, 80], [50, 80], [50, 180], [150, 180], [150, 160]];
            var s2_6 = [[100, 50], [80, 50], [80, 150], [180, 150], [180, 130], [160, 130]];
            
            var solutions = [];
            solutions.push(s0_0, s0_1, s0_2, s0_3);
            solutions.push(s1_1, s1_2, s1_3, s1_4);
            solutions.push(s2_1, s2_2, s2_3, s2_4, s2_5, s2_6);
            
            function init(){
                var ctx = document.getElementById("pinza").getContext("2d");
               
                paint_solutions(ctx);
            }
            
            function paint_solutions(ctx){
                for(var s=0; s < solutions.length; s++){
                    var i = s % 4; 
                    var j = parseInt(s / 4);
                    ctx.save();                    
                    ctx.translate(i * 300, j * 300 );
                    paint_solution(ctx, solutions[s]);
                    ctx.restore();
                }
            }
            
            function paint_solution(ctx, sol){
                ctx.save();
                ctx.strokeStyle = "rgb(0,0,30)";
                ctx.strokeRect(0, 0, 300, 300);
                paintPoly(ctx, sol);
                painOrganic(ctx, sol);
                ctx.restore();
            }
            
            function paintPoly(ctx, poly){
                ctx.save();
                ctx.strokeStyle = "rgb(204,204,204)";
                ctx.moveTo(poly[0][0], poly[0][1]);
                
                paint_point(ctx, 'red', poly[0]);
                
                for(var i=1; i < poly.length ; i++){
                    paint_point(ctx, 'red', poly[i]);
                    ctx.lineTo(poly[i][0], poly[i][1]);
                }   
                ctx.stroke();
                ctx.restore();
            }
            
            function paint_point(ctx, color,  point){
                ctx.save();
                switch(color){
                    case 'red':
                        ctx.strokeStyle = "rgb(200, 0,0)";
                        break;
                        
                    case 'black':
                        ctx.strokeStyle = "rgb(0, 0,0)";
                        break;
                }                
                ctx.strokeRect(point[0]- 3 , point[1] - 3, 6, 6);
                ctx.restore();
            }
            
            /**Add middle points and use them as CP...where possible :p*/
            function painOrganic(ctx, poly){
                ctx.save();
                ctx.strokeStyle = "rgb(0,100,0)";
                ctx.moveTo(poly[0][0], poly[0][1]);
                
                var points = [];
                
                //add controll points
                points.push(poly[0]);
                for(var i=1; i < poly.length-1; i++){
                    points.push(poly[i]);
                    var cp = [ (poly[i][0] + poly[i+1][0]) / 2, (poly[i][1] + poly[i+1][1]) / 2];
                    paint_point(ctx, 'black', cp);
                    points.push(cp);
                }   
                points.push(poly[poly.length-1]);
                
                
                
                
                //draw                
                for(var i=0; i < points.length-2; i=i+2){
                    ctx.moveTo(points[i][0], points[i][1]);
                    ctx.quadraticCurveTo( points[i+1][0], points[i+1][1], points[i+2][0], points[i+2][1] );
                }
                
                ctx.stroke();
                ctx.restore();
            }
        </script>
    </head>
    <body onload="init()">
        <canvas style="background-color: #E1E1E1;" id="pinza" width="1200" height="1200"></canvas>
    </body>
</html>
